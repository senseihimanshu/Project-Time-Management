<div class="app-main">
  <div class="app-employee-form">
    <form
      class="text-center border border-light p-5"
      #form="ngForm"
      (ngSubmit)="employeeCreateOrUpdate(form.value, typeOfForm)"
    >
      <div
        class="h4 mb-4 d-flex justify-content-between font-weight-bold"
        style="font-size: 2rem;"
      >
        {{
          typeOfForm === "get"
            ? "Employee Data for " + employee?.empId
            : typeOfForm === "create"
            ? "Create Employee"
            : "Update Employee"
        }}
        <button
          type="button"
          mdbBtn
          color="danger"
          mdbWavesEffect
          [routerLink]="['/admin']"
        >
          X (Close)
        </button>
      </div>

      <div class="h4 mb-4">
        <label for="empId">Employee ID</label>

        <input
          type="text"
          id="empId"
          class="form-control mb-4"
          placeholder="EmployeeId"
          [(ngModel)]="employee && employee.empId"
          name="empId"
          required
          [readonly]="!(typeOfForm === 'create')"
          #empIdInput="ngModel"
        />
      </div>

      <div class="h4 mb-4">
        <label for="email">Email Id</label>

        <input
          type="text"
          id="email"
          class="form-control mb-4"
          placeholder="Email"
          [(ngModel)]="employee && employee.email"
          name="email"
          [disabled]="typeOfForm === 'get'"
          #emailInput="ngModel"
        />
      </div>

      <div class="h4 mb-4">
        <label for="emp_name">Name</label>

        <input
          type="text"
          id="emp_name"
          class="form-control mb-4"
          placeholder="Employee Name"
          [(ngModel)]="employee && employee.name"
          name="name"
          [disabled]="typeOfForm === 'get'"
          #empNameInput="ngModel"
        />
      </div>

      <div class="h4 mb-4">
        <label for="address">Address</label>

        <input
          type="text"
          id="address"
          class="form-control mb-4"
          placeholder="Address"
          [(ngModel)]="employee && employee.address"
          name="address"
          [disabled]="typeOfForm === 'get'"
          #addressInput="ngModel"
        />
      </div>

      <div class="h4 mb-4">
        <label for="phone">Phone</label>

        <input
          type="text"
          id="phone"
          class="form-control mb-4"
          placeholder="Phone"
          [(ngModel)]="employee && employee.phone"
          name="phone"
          [disabled]="typeOfForm === 'get'"
          #phoneInput="ngModel"
        />
      </div>

      <div class="h4 mb-4">
        <label for="joining">Joining</label>

        <input
          type="date"
          id="joining"
          class="form-control mb-4"
          placeholder="Joining"
          [(ngModel)]="employee && employee.joining"
          name="joining"
          [disabled]="typeOfForm === 'get'"
          #joiningInput="ngModel"
        />
      </div>

      <div class="h4 mb-4">
        <label for="designation">Designation</label>

        <select
          class="browser-default custom-select mb-4"
          name="designation"
          [(ngModel)]="employee && employee.designation[0]"
          [disabled]="typeOfForm === 'get'"
          #designationInput="ngModel"
        >
          <option value="" disabled>Choose option</option>
          <option value="Associate" selected>Associate</option>
          <option value="Consultant 2">Consultant 2</option>
          <option value="Consultant 1">Consultant 1</option>
          <option value="Intern">Intern</option>
        </select>
      </div>

      <div class="h4 mb-4">
        <label for="role">Role</label>

        <select
          class="browser-default custom-select mb-4"
          name="role"
          [(ngModel)]="employee && employee.role[0]"
          [disabled]="typeOfForm === 'get'"
          #roleInput="ngModel"
        >
          <option value="" disabled>Choose option</option>
          <option value="Employee" selected>Employee</option>
          <option value="Project Manager">Project Manager</option>
          <option value="C Level">C Level</option>
        </select>
      </div>

      <div class="button-parent" *ngIf="typeOfForm !== 'get'">
        <button mdbBtn color="info" block="true" type="submit">
          {{ typeOfForm === "create" ? "Add Employee" : "Update Employee" }}
        </button>
      </div>
    </form>
    {{ form.value | json }}
  </div>
</div>
